Okay, let's craft a comprehensive and informative `README.md` file for your AI Workout Coach app, incorporating all the features and structural details we've discussed.

-----

# üèãÔ∏è AI Workout Coach: Your Smart Strength Training Companion

## Overview

The AI Workout Coach is a Streamlit-powered web application designed to optimize your strength training. It intelligently analyzes your historical workout performance, combining machine learning predictions with common-sense strength training principles to provide personalized weight recommendations for your next session. Track your progress, get smart guidance, and achieve progressive overload more effectively\!

## Key Features

  * **Personalized Weight Recommendations:** Get AI-powered suggestions for your next exercise weight. The system learns from your past sets, reps, and Rate of Perceived Exertion (RPE) to suggest optimal loads.
  * **Integrated Workout Logging:** Conveniently log your completed workouts directly from the recommendation page, or use the dedicated "Log Workout" page. Capture essential metrics like exercise, weight, reps, sets, RPE, and notes.
  * **Dynamic Exercise Management:** Effortlessly add new exercises on the fly. The app will learn and adapt its recommendations as you log data for these new movements.
  * **Real-time Model Retraining:** Every time you log a new workout, the underlying machine learning model automatically re-trains itself with your latest data, ensuring your recommendations are always up-to-date and highly personalized.
  * **Hybrid Recommendation Engine:** Recommendations are generated by a robust Random Forest Regressor model, then refined by practical strength training rules to ensure safety, progressive overload, and adherence to best practices (e.g., sensible weight increments, deloading strategies).
  * **Workout History & Visualization:** Review your past training sessions, visualize your progress over time with interactive charts (e.g., weight progression), and gain insights into your strength journey.
  * **Model Insights (Planned):** A dedicated section to understand how the AI coach works, potentially including feature importances and model performance metrics (e.g., MAE, R2 score). *Note: This feature can be expanded with more detailed visualizations of model behavior.*

## How it Works

1.  **Data Collection:** You log your workouts, including the date, exercise name, weight, reps, sets, and RPE. This raw data is saved in `data/raw_workout_log.csv`.
2.  **Data Transformation (`src/transform.py`):** Your raw workout data is automatically cleaned and enriched with calculated features relevant to strength training (e.g., volume, intensity, RIR - Reps in Reserve estimation). This processed data is stored in `data/transformed_workout_log.csv`.
3.  **Model Training (`src/train_model.py`):** A Random Forest Regressor is trained on your transformed historical data. This model learns the complex relationship between your past performance metrics and the optimal weight for your next session. The trained model and related artifacts (like the `LabelEncoder` for exercises) are saved in the `models/` directory.
4.  **Prediction & Rule-Based Refinement:**
      * When you request a recommendation, your most recent performance for the selected exercise is fed to the trained ML model, which predicts a raw next weight.
      * This raw prediction is then passed through a set of carefully defined, rule-based logic (in `src/utils.py`). These rules incorporate human coaching principles, ensuring the final recommendation is practical, safe, and aligned with effective progressive overload strategies.
5.  **Continuous Learning:** The entire transformation and model retraining pipeline runs automatically in the background after each new workout you log. This ensures the AI coach continuously learns from your unique training journey.

## Project Structure

```
ai-workout-app/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ app.py                     # Main Streamlit entry point, sets up sys.path
‚îÇ   ‚îî‚îÄ‚îÄ pages/
‚îÇ       ‚îú‚îÄ‚îÄ 01_Get_Recommendation.py # Get AI recommendations, log workout from here
‚îÇ       ‚îú‚îÄ‚îÄ 02_Log_Workout.py      # Dedicated page for logging workouts
‚îÇ       ‚îú‚îÄ‚îÄ 03_Model_Insights.py   # Page for model performance & insights (Expandable)
‚îÇ       ‚îî‚îÄ‚îÄ 04_Workout_History.py  # Visualize and analyze workout history
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ 50-Day_Workout_Log.csv     # (Optional) Example initial raw data
‚îÇ   ‚îú‚îÄ‚îÄ raw_workout_log.csv        # Your primary raw workout data
‚îÇ   ‚îî‚îÄ‚îÄ transformed_workout_log.csv# Processed data for model training
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ trained_regressor_model.joblib # The trained ML model
‚îÇ   ‚îú‚îÄ‚îÄ exercise_label_encoder.joblib  # Encodes exercise names to numbers
‚îÇ   ‚îî‚îÄ‚îÄ model_features.joblib      # List of features used by the model
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ transform.py               # Data preprocessing script
‚îÇ   ‚îú‚îÄ‚îÄ train_model.py             # Model training script
‚îÇ   ‚îú‚îÄ‚îÄ utils.py                   # Shared utility functions (e.g., log_workout)
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py                # Makes 'src' a Python package for imports
‚îú‚îÄ‚îÄ notebooks/                     # (Optional) For EDA, model experimentation
‚îÇ   ‚îú‚îÄ‚îÄ EDA_Workout_Data.ipynb
‚îÇ   ‚îî‚îÄ‚îÄ Model_Experimentation.ipynb
‚îú‚îÄ‚îÄ README.md                      # This file
‚îú‚îÄ‚îÄ requirements.txt               # Python dependencies
‚îî‚îÄ‚îÄ .gitignore                     # Files/directories to ignore by Git
```

## Setup and Installation

Follow these steps to get the AI Workout Coach running on your local machine:

1.  **Clone the repository:**

    ```bash
    git clone https://github.com/your-username/ai-workout-app.git
    cd ai-workout-app
    ```

    (Remember to replace `https://github.com/your-username/ai-workout-app.git` with your actual repository URL)

2.  **Create a Python virtual environment (recommended):**

    ```bash
    python3 -m venv env
    source env/bin/activate  # On Windows: .\env\Scripts\activate
    ```

3.  **Install dependencies:**

    ```bash
    pip install -r requirements.txt
    ```

4.  **Prepare your initial data and models:**

      * Ensure an empty `raw_workout_log.csv` is created in the `data/` directory, or if you have historical data, place it there.
      * **Crucially, run the data transformation and model training scripts manually once from the project root (not the `app/` directory) to generate initial model files:**
        ```bash
        # From the ai-workout-app/ directory (project root)
        python3 src/transform.py
        python3 src/train_model.py
        ```
        This will create `transformed_workout_log.csv` in `data/` and the necessary model files in `models/`.

5.  **Run the Streamlit application:**
    Navigate into the `app/` directory and run the main application file.

    ```bash
    cd app/
    streamlit run app.py
    ```

    Your web browser should automatically open the app (usually at `http://localhost:8501`).

## Usage

  * **Home:** Provides a brief introduction to the application.
  * **Get Recommendation:** Input your most recent workout performance for a chosen exercise and receive a personalized weight recommendation for your next set. After receiving a recommendation, you'll have the option to log that workout (with potential adjustments) directly from this page.
  * **Log Workout:** A dedicated page to manually log your completed training sessions. This will trigger the model to re-train in the background.
  * **Workout History:** Explore your past workouts, filter by exercise, and visualize your weight progression over time.
  * **Model Insights:** (To be further developed) View details about the machine learning model, including feature importance and performance metrics.

## Customization and Future Enhancements (Ideas for You\!)

This project provides a robust foundation, but there's always room for growth\! Here are some ideas for how you can further enhance your AI Workout Coach:

1.  **Refine Exercise Parameters UI:** Instead of just `EXERCISE_INFO_DEFAULTS`, create a dedicated Streamlit page where users can define/modify parameters (target rep ranges, min/max increments, deload percentages) for **each specific exercise**. Save these to a JSON file (`config/exercise_params.json`) and load them dynamically.
2.  **More Advanced Feature Engineering:**
      * **Time-based features:** Days since last workout, workout frequency per exercise.
      * **Rolling averages:** Average weight/reps/volume over the last 3-5 sessions.
      * **Estimated 1RM:** Calculate and track estimated one-rep maximums for exercises to better understand strength progression.
      * **Fatigue Metrics:** Incorporate measures like "training stress balance" if you capture more physiological data.
3.  **Rich Visualizations in "Workout History":**
      * Add charts to visualize RPE trends alongside weight/reps.
      * Implement scatter plots comparing Reps vs. Weight, color-coded by RPE.
      * Create heatmaps for weekly/monthly volume.
      * Show projected 1RM progression.
      * Add charts comparing actual vs. predicted weights to assess model accuracy for specific exercises.
4.  **Workout Planning & Program Management:**
      * Allow users to define entire workout routines (e.g., "Leg Day," "Push Day").
      * Generate recommendations for all exercises within a planned routine.
      * Track adherence to planned vs. actual workouts.
5.  **User Profiles/Authentication:** Implement a basic login system (e.g., using Streamlit Community Cloud's native authentication, or a simple backend with SQLite) to allow multiple users to save and access their distinct workout data.
6.  **Progressive Overload Indication:** Automatically highlight when progressive overload (increased weight, reps, sets, or improved RPE for same output) has been achieved for an exercise.
7.  **Gamification:** Introduce badges or streaks for consistent logging or achieving milestones.
8.  **Error Handling & User Feedback:** Enhance front-end error messages for data input, and provide more detailed explanations for recommendations if they seem unusual.
9.  **Deployment:** Deploy your application to Streamlit Community Cloud, Heroku, or AWS so it's accessible online without local setup.
10. **Unit Testing:** Write unit tests for your data transformation (`src/transform.py`) and model training (`src/train_model.py`) functions to ensure robustness and correctness.

## Contributing

Feel free to fork this repository, open issues, or submit pull requests. All contributions are welcome\!

## License

This project is open-source and available under the [MIT License](https://opensource.org/licenses/MIT).

-----